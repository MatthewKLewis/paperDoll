<div class="wrapper" cdkDropListGroup>

    <div class="header">
      <marquee>Mech Shop</marquee>
    </div>
  
    <div class="section-title">Inventory</div>
    <div class="section-title">Mecha</div>
    <div class="section-title">Stats</div>
  
    <div class="container">
      <div id="inactivePartsElement" cdkDropList [cdkDropListData]="inactiveParts" class="list"
        (cdkDropListDropped)="drop($event)">
  
        <button (click)="inactivePartFilter = '' ">All</button>
        <button (click)="inactivePartFilter = 'head' ">Heads</button>
        <button (click)="inactivePartFilter = 'core' ">Cores</button>
        <button (click)="inactivePartFilter = 'arm' ">Arms</button>
        <button (click)="inactivePartFilter = 'leg' ">Legs</button>
        <button (click)="inactivePartFilter = 'misc' ">Misc</button>
  
        <div *ngFor="let part of inactiveParts"
          [class]="'box' + ' ' + part.quality + ' ' + (inactivePartFilter && !part.type.includes(inactivePartFilter) && 'disabled')"
          (mouseenter)="hoverToCompare(part)" (mouseleave)="hoverClear()" cdkDrag>
          <img class="icon" [src]="getImagePath(part.type)">
          <p>{{part.name}}</p>
          <p>{{part.weight}}kgs</p>
          <p *ngIf="part.powerProduction" style="color: green">{{part.powerProduction}}kw</p>
          <p *ngIf="!part.powerProduction" style="color: red">{{part.powerConsumption}}kw</p>
          <p>{{part.cost}}</p>
        </div>
      </div>
    </div>
  
    <div class="container">
      <div id="activePartsElement" cdkDropList [cdkDropListData]="activeParts" class="list"
        (cdkDropListDropped)="drop($event)">
        <div [class]="'box ' + part.quality" *ngFor="let part of activeParts" cdkDrag>
          <img class="icon" [src]="getImagePath(part.type)">
          <p>{{part.name}}</p>
          <p>{{part.weight}}kgs</p>
          <p *ngIf="part.powerProduction" style="color: green">{{part.powerProduction}}kw</p>
          <p *ngIf="!part.powerProduction" style="color: red">{{part.powerConsumption}}kw</p>
          <p>{{part.cost}}</p>
        </div>
      </div>
    </div>
  
    <div class="container">
      <div class="stats">
        <p>
          Total Mech Value: {{getTotalMechValue(false)}}
          <span
            *ngIf="activeAndHoverParts.length > 0"
            [ngClass]="{'red-text': getTotalMechValue(false) > getTotalMechValue(true), 'blue-text': getTotalMechValue(false) < getTotalMechValue(true)} ">
            > {{getTotalMechValue(true)}}
          </span>
        </p>
        <hr>
        <p>
          Power Production: {{getTotalPowerProduction(false)}}
          <span
            *ngIf="activeAndHoverParts.length > 0"
            [ngClass]="{'red-text': getTotalPowerProduction(false) > getTotalPowerProduction(true), 'blue-text': getTotalPowerProduction(false) < getTotalPowerProduction(true)} ">
            > {{getTotalPowerProduction(true)}}
          </span>
        </p>
        <p>
          Power Consumption: {{getTotalPowerConsumption(false)}}
          <span
            *ngIf="activeAndHoverParts.length > 0"
            [ngClass]="{'red-text': getTotalPowerConsumption(false) < getTotalPowerConsumption(true), 'blue-text': getTotalPowerConsumption(false) > getTotalPowerConsumption(true)} ">
            > {{getTotalPowerConsumption(true)}}
          </span>
        </p>
        <hr>
        <p>
          Total Weight: {{getTotalWeight(false)}}
          <span
            *ngIf="activeAndHoverParts.length > 0"
            [ngClass]="{'red-text': getTotalWeight(false) < getTotalWeight(true), 'blue-text': getTotalWeight(false) > getTotalWeight(true)} ">
            > {{getTotalWeight(true)}}
          </span>
        </p>
        <p class="sub">Top Weight: 0</p>
        <p class="sub">Leg Weight: 0</p>
        <p>Leg Power: {{'xxx'}}</p>
        <p>Booster Power: {{'xxx'}}</p>
        <hr>
        <p>Head Armor: {{getHeadArmor(false)}}</p>
        <p class="sub">Head Thermal Resistance: 0</p>
        <p>Core Armor: {{getCoreArmor(false)}}</p>
        <p class="sub">Core Thermal Resistance: 0</p>
        <p>L Arm Armor: {{getLarmArmor(false)}}</p>
        <p class="sub">L Arm Thermal Resistance: 0</p>
        <p>R Arm Armor: {{getRarmArmor(false)}}</p>
        <p class="sub">R Arm Thermal Resistance: 0</p>
        <p>Leg Armor: {{getLegArmor(false)}}</p>
        <p class="sub">Leg Thermal Resistance: 0</p>
        <hr>
        <p>R Arm Weapon:</p>
        <p>L Arm Weapon:</p>
        <p>Additional Weapon:</p>
        <p>Additional Weapon:</p>
      </div>
    </div>
  
    <div class="container">
      <div class="stub">
        <a routerLink="/custom-part">Custom Parts Shop</a>
      </div>
    </div>
  
    <div class="container">
      <div class="stub">
        <b>Next Mission:</b>
      </div>
      <!-- <div id="activePartsElement" cdkDropList [cdkDropListData]="activeParts" class="list" (cdkDropListDropped)="drop($event)">
        <div [class]="'box ' + part.quality" *ngFor="let part of activeAndHoverParts" cdkDrag>
          <img class="icon" [src]="getImagePath(part.type)">
          <p>{{part.name}}</p>
        </div>
      </div> -->
    </div>
  
    <div class="container">
      <div class="stub">
        <button [disabled]="!isMechaComplete()" mat-raised-button color="primary">Ready!</button>
        <p *ngIf="!isMechaComplete()" style="color: red;">INCOMPLETE BUILD</p>
      </div>
    </div>
  
  </div>